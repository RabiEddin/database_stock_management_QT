CREATE TABLE STOCKS_INFO (
	CODE INT NOT NULL,
	STOCK_NAME CHAR(100) UNIQUE,
	TYPE CHAR(100),
	MARKET CHAR(100),
	SECTOR CHAR(100),
	PRICE INT, 
	PRIMARY KEY(CODE)
);
GO
INSERT INTO STOCKS_INFO VALUES(005930, 'Samsung Electronics Co Ltd', 'individual stocks', 'KOSPI', 'semiconductor', 68400);
INSERT INTO STOCKS_INFO VALUES(035420, 'Naver Corp', 'individual stocks', 'KOSPI', 'IT', 205000);
INSERT INTO STOCKS_INFO VALUES(005380, 'Hyundai Motor', 'individual stocks', 'KOSPI', 'car', 196400);
INSERT INTO STOCKS_INFO VALUES(086520, 'Ecopro Co Ltd', 'individual stocks', 'KOSDAQ', 'secondary battery', 662000);
INSERT INTO STOCKS_INFO VALUES(373220, 'LG Energy Solution Ltd', 'individual stocks', 'KOSPI', 'secondary battery', 604000);
INSERT INTO STOCKS_INFO VALUES(000660, 'SK Hynix Inc', 'individual stocks', 'KOSPI', 'semiconductor', 108000);
INSERT INTO STOCKS_INFO VALUES(091990, 'Celltrion HealthCare Co Ltd', 'individual stocks', 'KOSDAQ', 'bio', 74000);
INSERT INTO STOCKS_INFO VALUES(277810, 'Rainbow Robotics', 'individual stocks', 'KOSDAQ', 'robot', 111000);
INSERT INTO STOCKS_INFO VALUES(360750, 'MiraeAsset TIGER S&P500 ETF', 'ETF', 'KOSPI', 'USA stock ETF', 14000);
INSERT INTO STOCKS_INFO VALUES(570082, 'TRUE Inverse 2X KOSDAQ 150 Futures ETN', 'ETN', 'KOSPI', 'stock derivative ETN', 9230);
INSERT INTO STOCKS_INFO VALUES(252670, 'KODEX 200 Futures Inverse 2X', 'ETF', 'KOSPI', 'KOSPI 200 INVERSE', 2490);
INSERT INTO STOCKS_INFO VALUES(122630, 'KODEX LEVERAGE', 'ETF', 'KOSPI', 'KOSPI 200 LEVERAGE', 17300);
INSERT INTO STOCKS_INFO VALUES(066970, 'L&F', 'individual stocks', 'KOSDAQ', 'secondary battery', 279000);
INSERT INTO STOCKS_INFO VALUES(028300, 'HLB ', 'individual stocks', 'KOSDAQ', 'bio', 36950);
INSERT INTO STOCKS_INFO VALUES(006400, 'SAMSUNG SDI CO.,LTD.', 'individual stocks', 'KOSPI', 'secondary battery', 735000);
INSERT INTO STOCKS_INFO VALUES(035720, 'Kakao', 'individual stocks', 'KOSPI', 'IT', 57400);
INSERT INTO STOCKS_INFO VALUES(005490, 'POSCO Holdings', 'individual stocks', 'KOSPI', 'steel industry', 388500);
INSERT INTO STOCKS_INFO VALUES(041510, 'SME', 'individual stocks', 'KOSDAQ', 'entertainment', 103300);
INSERT INTO STOCKS_INFO VALUES(035900, 'JYP Ent.', 'individual stocks', 'KOSDAQ', 'entertainment', 127500);
INSERT INTO STOCKS_INFO VALUES(530031, 'Samsung Leverage WTI Futures ETN', 'ETN', 'KOSPI', 'Oil 2X Leveraged TR Index',1120);
INSERT INTO STOCKS_INFO VALUES(066410, 'BUCKET STUDIO', 'individual stocks', 'KOSDAQ', 'entertainment',	1153);
GO
CREATE TABLE INVESTOR (
	ACCOUNT_NUM INT NOT NULL,
	INVESTOR_NAME CHAR(100),
	INVESTMENT_AMOUNT INT,
	ACCOUNTING_DEPOSIT INT,
	PRIMARY KEY(ACCOUNT_NUM)
);
GO
CREATE TABLE FUNDAMENTAL (
	CODE INT NOT NULL,
	REVENUE INT,
	NET_INCOME INT, 
	MARKET_CAP INT,
	PER FLOAT, 
	PBR FLOAT, 
	ROE FLOAT,
	DELIST CHAR(5) DEFAULT 'NO',
	PRIMARY KEY(CODE),
	FOREIGN KEY(CODE) REFERENCES STOCKS_INFO(CODE)
	 ON DELETE CASCADE ON UPDATE CASCADE
);
GO
INSERT INTO FUNDAMENTAL VALUES (005930, 3022314, 556541, 4083331, 6.86, 1.09, 17.07, 'NO');
INSERT INTO FUNDAMENTAL VALUES (035420, 82201, 6732, 336301, 38.30, 1.17, 3.29, 'NO');
INSERT INTO FUNDAMENTAL VALUES (005380, 1425275, 79836, 415448, 5.68, 0.48, 9.36, 'NO');
INSERT INTO FUNDAMENTAL VALUES (086520, 56397, 2206, 176275, 72.63, 2.03, 2.94, 'NO');
INSERT INTO FUNDAMENTAL VALUES (373220, 255986, 7798, 1413360, 131.77, 5.44, 5.75, 'NO');
INSERT INTO FUNDAMENTAL VALUES (000660, 446216, 22417, 786243, 24.49, 0.82, 3.55, 'NO');
INSERT INTO FUNDAMENTAL VALUES (091990, 19722, 1472, 121700, 64.78, 4.54, 7.06, 'NO');
INSERT INTO FUNDAMENTAL VALUES (277810, 136, 58, 21369, 98.86, 9.44, 10.56, 'NO');
INSERT INTO FUNDAMENTAL VALUES (360750, NULL, NULL, 18515, NULL, NULL, NULL, 'NO');
INSERT INTO FUNDAMENTAL VALUES (570082, NULL, NULL, 923, NULL, NULL, NULL, 'NO');
INSERT INTO FUNDAMENTAL VALUES (066410, 446, -1956, 970, NULL, 1.03, -81.26, 'YES');
INSERT INTO FUNDAMENTAL VALUES (252670, NULL, NULL, 20620, NULL, NULL, NULL, 'NO');
INSERT INTO FUNDAMENTAL VALUES (122630, NULL, NULL, 19290, NULL, NULL, NULL, 'NO');
INSERT INTO FUNDAMENTAL VALUES (066970, 38873, 2710, 101109, 23.05, 4.51, 28.26, 'NO');
INSERT INTO FUNDAMENTAL VALUES (028300, 1797, -986, 45303, NULL, 5.40, -14.56, 'NO');
INSERT INTO FUNDAMENTAL VALUES (006400, 201241, 20394, 505419, 21.31, 2.40, 12.52, 'NO');
INSERT INTO FUNDAMENTAL VALUES (035720, 71068, 10626, 254824, 17.48, 2.32, 13.54, 'NO');
INSERT INTO FUNDAMENTAL VALUES (005490, 847502, 35605, 328559, 7.58, 0.40, 6.11, 'NO');
INSERT INTO FUNDAMENTAL VALUES (041510, 8508, 820, 24617, 22.81, 2.60, 12.19, 'NO');
INSERT INTO FUNDAMENTAL VALUES (035900, 3459, 675, 45259, 35.66, 7.47, 24.67, 'NO');
INSERT INTO FUNDAMENTAL VALUES (530031, NULL, NULL, 4525, NULL, NULL, NULL, 'NO');
GO
CREATE TABLE HISTORY (
	NUMBER INT NOT NULL,
	CODE INT NOT NULL DEFAULT 000000,
	INVESTOR_ACCOUNT INT NOT NULL,
	OPEN_DATE DATE,
	TYPE CHAR(100),
	QUANTITY INT,
	AVERAGE_PRICE INT,
	COMMISSION INT,
	
	PRIMARY KEY(NUMBER, CODE, INVESTOR_ACCOUNT),
	FOREIGN KEY(CODE) REFERENCES STOCKS_INFO(CODE)
	 ON DELETE NO ACTION ON UPDATE CASCADE,
);
GO
INSERT INTO HISTORY VALUES (1, 277810, 777777777, '05/15/2023', 'BUY', 10, 110000, 16500);
INSERT INTO HISTORY VALUES (2, 005930, 666666666, '05/10/2023', 'BUY', 23, 65000, 22425);
INSERT INTO HISTORY VALUES (3, 005930, 111111111, '04/06/2023', 'BUY', 30, 63000, 28350);
INSERT INTO HISTORY VALUES (4, 360750, 999999999, '04/25/2023', 'BUY', 100, 13750, 20625);
INSERT INTO HISTORY VALUES (5, 570082, 999999999, '03/16/2023', 'BUY', 150, 13100, 29475);
INSERT INTO HISTORY VALUES (6, 086520, 222222222, '03/28/2023', 'BUY', 10, 433000, 64950);
INSERT INTO HISTORY VALUES (7, 373220, 222222222, '02/28/2023', 'BUY', 10, 520000, 78000);
INSERT INTO HISTORY VALUES (8, 091990, 444444444, '04/13/2023', 'BUY', 30, 80000, 36000);
INSERT INTO HISTORY VALUES (9, 570082, 444444444, '03/30/2023', 'BUY', 50, 11150, 8362.5);
INSERT INTO HISTORY VALUES (10, 570082, 444444444, '05/10/2023', 'SELL', 50, 10480, 7860);
GO
CREATE TABLE CONTAINS_HISTORY (
	SELL_NUM INT NOT NULL,
	BUY_NUM INT NOT NULL,
	BUY_CODE INT NOT NULL,
	BUY_INVESTOR_ACCOUNT INT NOT NULL,
	PRIMARY KEY(SELL_NUM),
	FOREIGN KEY(BUY_NUM, BUY_CODE, BUY_INVESTOR_ACCOUNT) REFERENCES HISTORY(NUMBER, CODE, INVESTOR_ACCOUNT)
	 ON DELETE NO ACTION ON UPDATE CASCADE
);
GO
INSERT INTO CONTAINS_HISTORY VALUES (10, 9, 570082, 444444444);
GO
CREATE TABLE MY_INTERESTING_STOCK (
	INVESTOR_ACCOUNT INT NOT NULL,
	STOCK_CODE INT NOT NULL,
	STOCK_NAME CHAR(100),
	STOCK_HOLDINGS CHAR(10),

	PRIMARY KEY(INVESTOR_ACCOUNT, STOCK_CODE),
	FOREIGN KEY(INVESTOR_ACCOUNT) REFERENCES INVESTOR(ACCOUNT_NUM)
	 ON DELETE CASCADE ON UPDATE CASCADE, 
	FOREIGN KEY(STOCK_CODE) REFERENCES STOCKS_INFO(CODE)
	 ON DELETE CASCADE ON UPDATE CASCADE,
);
GO
INSERT INTO INVESTOR VALUES (111111111, 'S.KIM', 10000000, 10000000 - 63000*30 - 28350);
INSERT INTO INVESTOR VALUES (222222222, 'M.CHOI', 30000000, 30000000 - (433000*10 + 520000*10 + 64950 + 78000));
INSERT INTO INVESTOR VALUES (333333333, 'S.PARK', 20000000, 20000000);
INSERT INTO INVESTOR VALUES (444444444, 'T.KIM', 70000000, 70000000 - (30*80000 + 50*11150 - 50*10480 + 36000 + 8362 + 7860));
INSERT INTO INVESTOR VALUES (555555555, 'F.KIM', 13000000, 13000000);
INSERT INTO INVESTOR VALUES (666666666, 'S.LEE', 17000000, 17000000 - (23*65000 + 22425));
INSERT INTO INVESTOR VALUES (777777777, 'D.KIM', 30000000, 30000000 - (10*110000 + 16500));
INSERT INTO INVESTOR VALUES (888888888, 'JAMES', 90000000, 90000000);
INSERT INTO INVESTOR VALUES (999999999, 'H.JEONG', 50000000, 50000000 - (100*13750 + 150*13100 + 20625 + 29475));
INSERT INTO INVESTOR VALUES (938542671, 'T.PARK', 60000000, 60000000);
GO
INSERT INTO MY_INTERESTING_STOCK VALUES (111111111, 005930, 'Samsung Electronics Co Ltd', 'YES');
INSERT INTO MY_INTERESTING_STOCK VALUES (111111111, 277810, 'Rainbow Robotics', 'NO');
INSERT INTO MY_INTERESTING_STOCK VALUES (111111111, 035420, 'Naver Corp', 'NO');
INSERT INTO MY_INTERESTING_STOCK VALUES (666666666, 005930, 'Samsung Electronics Co Ltd', 'YES');
INSERT INTO MY_INTERESTING_STOCK VALUES (777777777, 277810, 'Rainbow Robotics', 'YES');
INSERT INTO MY_INTERESTING_STOCK VALUES (777777777, 035720, 'Kakao', 'NO');
INSERT INTO MY_INTERESTING_STOCK VALUES (999999999, 277810, 'MiraeAsset TIGER S&P500 ETF', 'YES');
INSERT INTO MY_INTERESTING_STOCK VALUES (999999999, 570082, 'TRUE Inverse 2X KOSDAQ 150 Futures ETN', 'YES');
INSERT INTO MY_INTERESTING_STOCK VALUES (222222222, 086520, 'Ecopro Co Ltd', 'YES');
INSERT INTO MY_INTERESTING_STOCK VALUES (222222222, 373220, 'LG Energy Solution Ltd', 'YES');
INSERT INTO MY_INTERESTING_STOCK VALUES (444444444, 091990, 'Celltrion HealthCare Co Ltd', 'YES');
GO